"use strict";(self.webpackChunkdocumentation_site=self.webpackChunkdocumentation_site||[]).push([[54533],{28453:(e,s,l)=>{l.d(s,{R:()=>t,x:()=>a});var r=l(96540);const n={},i=r.createContext(n);function t(e){const s=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:t(e.components),r.createElement(i.Provider,{value:s},e.children)}},44779:(e,s,l)=>{l.r(s),l.d(s,{assets:()=>d,contentTitle:()=>a,default:()=>o,frontMatter:()=>t,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"api-reference/classes/MerkleList","title":"MerkleList","description":"Defined in81","source":"@site/versioned_docs/version-2.4.0/api-reference/classes/MerkleList.mdx","sourceDirName":"api-reference/classes","slug":"/api-reference/classes/MerkleList","permalink":"/o1js/2.4.0/api-reference/classes/MerkleList","draft":false,"unlisted":false,"editUrl":"https://github.com/versioned_docs/version-2.4.0/api-reference/classes/MerkleList.mdx","tags":[],"version":"2.4.0","frontMatter":{},"sidebar":"docs","previous":{"title":"Ledger","permalink":"/o1js/2.4.0/api-reference/classes/Ledger"},"next":{"title":"MerkleListIterator","permalink":"/o1js/2.4.0/api-reference/classes/MerkleListIterator"}}');var n=l(74848),i=l(28453);const t={},a=void 0,d={},c=[{value:"Extended by",id:"extended-by",level:2},{value:"Type Parameters",id:"type-parameters",level:2},{value:"Implements",id:"implements",level:2},{value:"Constructors",id:"constructors",level:2},{value:"new MerkleList()",id:"new-merklelist",level:3},{value:"Parameters",id:"parameters",level:4},{value:"__namedParameters",id:"__namedparameters",level:5},{value:"Returns",id:"returns",level:4},{value:"Properties",id:"properties",level:2},{value:"data",id:"data",level:3},{value:"Implementation of",id:"implementation-of",level:4},{value:"hash",id:"hash",level:3},{value:"Implementation of",id:"implementation-of-1",level:4},{value:"_emptyHash",id:"_emptyhash",level:3},{value:"_innerProvable",id:"_innerprovable",level:3},{value:"_nextHash",id:"_nexthash",level:3},{value:"_provable",id:"_provable",level:3},{value:"Accessors",id:"accessors",level:2},{value:"Constructor",id:"constructor",level:3},{value:"Get Signature",id:"get-signature",level:4},{value:"Returns",id:"returns-1",level:5},{value:"innerProvable",id:"innerprovable",level:3},{value:"Get Signature",id:"get-signature-1",level:4},{value:"Returns",id:"returns-2",level:5},{value:"emptyHash",id:"emptyhash",level:3},{value:"Get Signature",id:"get-signature-2",level:4},{value:"Returns",id:"returns-3",level:5},{value:"Methods",id:"methods",level:2},{value:"clone()",id:"clone",level:3},{value:"Returns",id:"returns-4",level:4},{value:"forEach()",id:"foreach",level:3},{value:"Parameters",id:"parameters-1",level:4},{value:"length",id:"length",level:5},{value:"callback",id:"callback",level:5},{value:"Returns",id:"returns-5",level:4},{value:"isEmpty()",id:"isempty",level:3},{value:"Returns",id:"returns-6",level:4},{value:"lengthUnconstrained()",id:"lengthunconstrained",level:3},{value:"Returns",id:"returns-7",level:4},{value:"nextHash()",id:"nexthash",level:3},{value:"Parameters",id:"parameters-2",level:4},{value:"hash",id:"hash-1",level:5},{value:"value",id:"value",level:5},{value:"Returns",id:"returns-8",level:4},{value:"pop()",id:"pop",level:3},{value:"Returns",id:"returns-9",level:4},{value:"popExn()",id:"popexn",level:3},{value:"Returns",id:"returns-10",level:4},{value:"popIf()",id:"popif",level:3},{value:"Parameters",id:"parameters-3",level:4},{value:"condition",id:"condition",level:5},{value:"Returns",id:"returns-11",level:4},{value:"popIfUnsafe()",id:"popifunsafe",level:3},{value:"Parameters",id:"parameters-4",level:4},{value:"shouldPop",id:"shouldpop",level:5},{value:"Returns",id:"returns-12",level:4},{value:"popOption()",id:"popoption",level:3},{value:"Returns",id:"returns-13",level:4},{value:"push()",id:"push",level:3},{value:"Parameters",id:"parameters-5",level:4},{value:"element",id:"element",level:5},{value:"Returns",id:"returns-14",level:4},{value:"pushIf()",id:"pushif",level:3},{value:"Parameters",id:"parameters-6",level:4},{value:"condition",id:"condition-1",level:5},{value:"element",id:"element-1",level:5},{value:"Returns",id:"returns-15",level:4},{value:"startIterating()",id:"startiterating",level:3},{value:"Returns",id:"returns-16",level:4},{value:"startIteratingFromLast()",id:"startiteratingfromlast",level:3},{value:"Returns",id:"returns-17",level:4},{value:"toArrayUnconstrained()",id:"toarrayunconstrained",level:3},{value:"Returns",id:"returns-18",level:4},{value:"create()",id:"create",level:3},{value:"Type Parameters",id:"type-parameters-1",level:4},{value:"Parameters",id:"parameters-7",level:4},{value:"type",id:"type",level:5},{value:"nextHash",id:"nexthash-1",level:5},{value:"emptyHash_",id:"emptyhash_",level:5},{value:"Returns",id:"returns-19",level:4},{value:"Example",id:"example",level:4}];function h(e){const s={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",h5:"h5",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(s.p,{children:["Defined in: ",(0,n.jsx)(s.a,{href:"https://github.com/o1-labs/o1js/blob/df1ff77af12d7cbbed4a6167f02815fad4f0dceb/src/lib/provable/merkle-list.ts#L81",children:"lib/provable/merkle-list.ts:81"})]}),"\n",(0,n.jsx)(s.p,{children:"Dynamic-length list which is represented as a single hash"}),"\n",(0,n.jsxs)(s.p,{children:["Supported operations are ",(0,n.jsx)(s.a,{href:"/o1js/2.4.0/api-reference/classes/MerkleList#push",children:"()"})," and ",(0,n.jsx)(s.a,{href:"/o1js/2.4.0/api-reference/classes/MerkleList#pop",children:"()"})," and some variants thereof."]}),"\n",(0,n.jsx)(s.p,{children:"A Merkle list is generic over its element types, so before using it you must create a subclass for your element type:"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-ts",children:"class MyList extends MerkleList.create(MyType) {}\n\n// now use it\nlet list = MyList.empty();\n\nlist.push(new MyType(...));\n\nlet element = list.pop();\n"})}),"\n",(0,n.jsxs)(s.p,{children:["Internal detail: ",(0,n.jsx)(s.code,{children:"push()"})," adds elements to the ",(0,n.jsx)(s.em,{children:"start"})," of the internal array and ",(0,n.jsx)(s.code,{children:"pop()"})," removes them from the start.\nThis is so that the hash which represents the list is consistent with ",(0,n.jsx)(s.a,{href:"/o1js/2.4.0/api-reference/classes/MerkleListIterator",children:"MerkleListIterator"}),",\nand so a ",(0,n.jsx)(s.code,{children:"MerkleList"})," can be used as input to ",(0,n.jsx)(s.code,{children:"MerkleListIterator.startIterating(list)"}),"\n(which will then iterate starting from the last pushed element)."]}),"\n",(0,n.jsx)(s.h2,{id:"extended-by",children:"Extended by"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.a,{href:"/o1js/2.4.0/api-reference/classes/AccountUpdateForest",children:(0,n.jsx)(s.code,{children:"AccountUpdateForest"})})}),"\n"]}),"\n",(0,n.jsx)(s.h2,{id:"type-parameters",children:"Type Parameters"}),"\n",(0,n.jsxs)(s.p,{children:["\u2022 ",(0,n.jsx)(s.strong,{children:"T"})]}),"\n",(0,n.jsx)(s.h2,{id:"implements",children:"Implements"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.a,{href:"/o1js/2.4.0/api-reference/type-aliases/MerkleListBase",children:(0,n.jsx)(s.code,{children:"MerkleListBase"})}),"<",(0,n.jsx)(s.code,{children:"T"}),">"]}),"\n"]}),"\n",(0,n.jsx)(s.h2,{id:"constructors",children:"Constructors"}),"\n",(0,n.jsx)(s.h3,{id:"new-merklelist",children:"new MerkleList()"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-ts",children:"new MerkleList<T>(__namedParameters: MerkleListBase<T>): MerkleList<T>\n"})}),"\n",(0,n.jsxs)(s.p,{children:["Defined in: ",(0,n.jsx)(s.a,{href:"https://github.com/o1-labs/o1js/blob/df1ff77af12d7cbbed4a6167f02815fad4f0dceb/src/lib/provable/merkle-list.ts#L85",children:"lib/provable/merkle-list.ts:85"})]}),"\n",(0,n.jsx)(s.h4,{id:"parameters",children:"Parameters"}),"\n",(0,n.jsx)(s.h5,{id:"__namedparameters",children:"__namedParameters"}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.a,{href:"/o1js/2.4.0/api-reference/type-aliases/MerkleListBase",children:(0,n.jsx)(s.code,{children:"MerkleListBase"})}),"<",(0,n.jsx)(s.code,{children:"T"}),">"]}),"\n",(0,n.jsx)(s.h4,{id:"returns",children:"Returns"}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.a,{href:"/o1js/2.4.0/api-reference/classes/MerkleList",children:(0,n.jsx)(s.code,{children:"MerkleList"})}),"<",(0,n.jsx)(s.code,{children:"T"}),">"]}),"\n",(0,n.jsx)(s.h2,{id:"properties",children:"Properties"}),"\n",(0,n.jsx)(s.h3,{id:"data",children:"data"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-ts",children:"data: Unconstrained<WithHash<T>[]>;\n"})}),"\n",(0,n.jsxs)(s.p,{children:["Defined in: ",(0,n.jsx)(s.a,{href:"https://github.com/o1-labs/o1js/blob/df1ff77af12d7cbbed4a6167f02815fad4f0dceb/src/lib/provable/merkle-list.ts#L83",children:"lib/provable/merkle-list.ts:83"})]}),"\n",(0,n.jsx)(s.h4,{id:"implementation-of",children:"Implementation of"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-ts",children:"MerkleListBase.data\n"})}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsx)(s.h3,{id:"hash",children:"hash"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-ts",children:"hash: Field;\n"})}),"\n",(0,n.jsxs)(s.p,{children:["Defined in: ",(0,n.jsx)(s.a,{href:"https://github.com/o1-labs/o1js/blob/df1ff77af12d7cbbed4a6167f02815fad4f0dceb/src/lib/provable/merkle-list.ts#L82",children:"lib/provable/merkle-list.ts:82"})]}),"\n",(0,n.jsx)(s.h4,{id:"implementation-of-1",children:"Implementation of"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-ts",children:"MerkleListBase.hash\n"})}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsx)(s.h3,{id:"_emptyhash",children:"_emptyHash"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-ts",children:"static _emptyHash: undefined | Field;\n"})}),"\n",(0,n.jsxs)(s.p,{children:["Defined in: ",(0,n.jsx)(s.a,{href:"https://github.com/o1-labs/o1js/blob/df1ff77af12d7cbbed4a6167f02815fad4f0dceb/src/lib/provable/merkle-list.ts#L348",children:"lib/provable/merkle-list.ts:348"})]}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsx)(s.h3,{id:"_innerprovable",children:"_innerProvable"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-ts",children:"static _innerProvable: \n  | undefined\n| ProvableHashable<any>;\n"})}),"\n",(0,n.jsxs)(s.p,{children:["Defined in: ",(0,n.jsx)(s.a,{href:"https://github.com/o1-labs/o1js/blob/df1ff77af12d7cbbed4a6167f02815fad4f0dceb/src/lib/provable/merkle-list.ts#L351",children:"lib/provable/merkle-list.ts:351"})]}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsx)(s.h3,{id:"_nexthash",children:"_nextHash"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-ts",children:"static _nextHash: \n  | undefined\n  | (hash: Field, t: any) => Field;\n"})}),"\n",(0,n.jsxs)(s.p,{children:["Defined in: ",(0,n.jsx)(s.a,{href:"https://github.com/o1-labs/o1js/blob/df1ff77af12d7cbbed4a6167f02815fad4f0dceb/src/lib/provable/merkle-list.ts#L347",children:"lib/provable/merkle-list.ts:347"})]}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsx)(s.h3,{id:"_provable",children:"_provable"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-ts",children:"static _provable: \n  | undefined\n| ProvableHashable<MerkleList<any>>;\n"})}),"\n",(0,n.jsxs)(s.p,{children:["Defined in: ",(0,n.jsx)(s.a,{href:"https://github.com/o1-labs/o1js/blob/df1ff77af12d7cbbed4a6167f02815fad4f0dceb/src/lib/provable/merkle-list.ts#L350",children:"lib/provable/merkle-list.ts:350"})]}),"\n",(0,n.jsx)(s.h2,{id:"accessors",children:"Accessors"}),"\n",(0,n.jsx)(s.h3,{id:"constructor",children:"Constructor"}),"\n",(0,n.jsx)(s.h4,{id:"get-signature",children:"Get Signature"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-ts",children:"get Constructor(): typeof MerkleList\n"})}),"\n",(0,n.jsxs)(s.p,{children:["Defined in: ",(0,n.jsx)(s.a,{href:"https://github.com/o1-labs/o1js/blob/df1ff77af12d7cbbed4a6167f02815fad4f0dceb/src/lib/provable/merkle-list.ts#L353",children:"lib/provable/merkle-list.ts:353"})]}),"\n",(0,n.jsx)(s.h5,{id:"returns-1",children:"Returns"}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.em,{children:"typeof"})," ",(0,n.jsx)(s.a,{href:"/o1js/2.4.0/api-reference/classes/MerkleList",children:(0,n.jsx)(s.code,{children:"MerkleList"})})]}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsx)(s.h3,{id:"innerprovable",children:"innerProvable"}),"\n",(0,n.jsx)(s.h4,{id:"get-signature-1",children:"Get Signature"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-ts",children:"get innerProvable(): ProvableHashable<T>\n"})}),"\n",(0,n.jsxs)(s.p,{children:["Defined in: ",(0,n.jsx)(s.a,{href:"https://github.com/o1-labs/o1js/blob/df1ff77af12d7cbbed4a6167f02815fad4f0dceb/src/lib/provable/merkle-list.ts#L367",children:"lib/provable/merkle-list.ts:367"})]}),"\n",(0,n.jsx)(s.h5,{id:"returns-2",children:"Returns"}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.a,{href:"/o1js/2.4.0/api-reference/type-aliases/ProvableHashable",children:(0,n.jsx)(s.code,{children:"ProvableHashable"})}),"<",(0,n.jsx)(s.code,{children:"T"}),">"]}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsx)(s.h3,{id:"emptyhash",children:"emptyHash"}),"\n",(0,n.jsx)(s.h4,{id:"get-signature-2",children:"Get Signature"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-ts",children:"get static emptyHash(): Field\n"})}),"\n",(0,n.jsxs)(s.p,{children:["Defined in: ",(0,n.jsx)(s.a,{href:"https://github.com/o1-labs/o1js/blob/df1ff77af12d7cbbed4a6167f02815fad4f0dceb/src/lib/provable/merkle-list.ts#L362",children:"lib/provable/merkle-list.ts:362"})]}),"\n",(0,n.jsx)(s.h5,{id:"returns-3",children:"Returns"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.a,{href:"/o1js/2.4.0/api-reference/classes/Field",children:(0,n.jsx)(s.code,{children:"Field"})})}),"\n",(0,n.jsx)(s.h2,{id:"methods",children:"Methods"}),"\n",(0,n.jsx)(s.h3,{id:"clone",children:"clone()"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-ts",children:"clone(): MerkleList<T>\n"})}),"\n",(0,n.jsxs)(s.p,{children:["Defined in: ",(0,n.jsx)(s.a,{href:"https://github.com/o1-labs/o1js/blob/df1ff77af12d7cbbed4a6167f02815fad4f0dceb/src/lib/provable/merkle-list.ts#L236",children:"lib/provable/merkle-list.ts:236"})]}),"\n",(0,n.jsx)(s.h4,{id:"returns-4",children:"Returns"}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.a,{href:"/o1js/2.4.0/api-reference/classes/MerkleList",children:(0,n.jsx)(s.code,{children:"MerkleList"})}),"<",(0,n.jsx)(s.code,{children:"T"}),">"]}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsx)(s.h3,{id:"foreach",children:"forEach()"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-ts",children:"forEach(length: number, callback: (element: T, isDummy: Bool, i: number) => void): void\n"})}),"\n",(0,n.jsxs)(s.p,{children:["Defined in: ",(0,n.jsx)(s.a,{href:"https://github.com/o1-labs/o1js/blob/df1ff77af12d7cbbed4a6167f02815fad4f0dceb/src/lib/provable/merkle-list.ts#L250",children:"lib/provable/merkle-list.ts:250"})]}),"\n",(0,n.jsx)(s.p,{children:"Iterate through the list in a fixed number of steps any apply a given callback on each element."}),"\n",(0,n.jsx)(s.p,{children:"Proves that the iteration traverses the entire list.\nOnce past the last element, dummy elements will be passed to the callback."}),"\n",(0,n.jsxs)(s.p,{children:["Note: There are no guarantees about the contents of dummy elements, so the callback is expected\nto handle the ",(0,n.jsx)(s.code,{children:"isDummy"})," flag separately."]}),"\n",(0,n.jsx)(s.h4,{id:"parameters-1",children:"Parameters"}),"\n",(0,n.jsx)(s.h5,{id:"length",children:"length"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.code,{children:"number"})}),"\n",(0,n.jsx)(s.h5,{id:"callback",children:"callback"}),"\n",(0,n.jsxs)(s.p,{children:["(",(0,n.jsx)(s.code,{children:"element"}),": ",(0,n.jsx)(s.code,{children:"T"}),", ",(0,n.jsx)(s.code,{children:"isDummy"}),": ",(0,n.jsx)(s.a,{href:"/o1js/2.4.0/api-reference/classes/Bool",children:(0,n.jsx)(s.code,{children:"Bool"})}),", ",(0,n.jsx)(s.code,{children:"i"}),": ",(0,n.jsx)(s.code,{children:"number"}),") => ",(0,n.jsx)(s.code,{children:"void"})]}),"\n",(0,n.jsx)(s.h4,{id:"returns-5",children:"Returns"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.code,{children:"void"})}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsx)(s.h3,{id:"isempty",children:"isEmpty()"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-ts",children:"isEmpty(): Bool\n"})}),"\n",(0,n.jsxs)(s.p,{children:["Defined in: ",(0,n.jsx)(s.a,{href:"https://github.com/o1-labs/o1js/blob/df1ff77af12d7cbbed4a6167f02815fad4f0dceb/src/lib/provable/merkle-list.ts#L90",children:"lib/provable/merkle-list.ts:90"})]}),"\n",(0,n.jsx)(s.h4,{id:"returns-6",children:"Returns"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.a,{href:"/o1js/2.4.0/api-reference/classes/Bool",children:(0,n.jsx)(s.code,{children:"Bool"})})}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsx)(s.h3,{id:"lengthunconstrained",children:"lengthUnconstrained()"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-ts",children:"lengthUnconstrained(): Unconstrained<number>\n"})}),"\n",(0,n.jsxs)(s.p,{children:["Defined in: ",(0,n.jsx)(s.a,{href:"https://github.com/o1-labs/o1js/blob/df1ff77af12d7cbbed4a6167f02815fad4f0dceb/src/lib/provable/merkle-list.ts#L273",children:"lib/provable/merkle-list.ts:273"})]}),"\n",(0,n.jsx)(s.h4,{id:"returns-7",children:"Returns"}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.a,{href:"/o1js/2.4.0/api-reference/classes/Unconstrained",children:(0,n.jsx)(s.code,{children:"Unconstrained"})}),"<",(0,n.jsx)(s.code,{children:"number"}),">"]}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsx)(s.h3,{id:"nexthash",children:"nextHash()"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-ts",children:"nextHash(hash: Field, value: T): Field\n"})}),"\n",(0,n.jsxs)(s.p,{children:["Defined in: ",(0,n.jsx)(s.a,{href:"https://github.com/o1-labs/o1js/blob/df1ff77af12d7cbbed4a6167f02815fad4f0dceb/src/lib/provable/merkle-list.ts#L357",children:"lib/provable/merkle-list.ts:357"})]}),"\n",(0,n.jsx)(s.h4,{id:"parameters-2",children:"Parameters"}),"\n",(0,n.jsx)(s.h5,{id:"hash-1",children:"hash"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.a,{href:"/o1js/2.4.0/api-reference/classes/Field",children:(0,n.jsx)(s.code,{children:"Field"})})}),"\n",(0,n.jsx)(s.h5,{id:"value",children:"value"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.code,{children:"T"})}),"\n",(0,n.jsx)(s.h4,{id:"returns-8",children:"Returns"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.a,{href:"/o1js/2.4.0/api-reference/classes/Field",children:(0,n.jsx)(s.code,{children:"Field"})})}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsx)(s.h3,{id:"pop",children:"pop()"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-ts",children:"pop(): T\n"})}),"\n",(0,n.jsxs)(s.p,{children:["Defined in: ",(0,n.jsx)(s.a,{href:"https://github.com/o1-labs/o1js/blob/df1ff77af12d7cbbed4a6167f02815fad4f0dceb/src/lib/provable/merkle-list.ts#L152",children:"lib/provable/merkle-list.ts:152"})]}),"\n",(0,n.jsx)(s.p,{children:"Remove the last element from the list and return it."}),"\n",(0,n.jsx)(s.p,{children:"If the list is empty, returns a dummy element."}),"\n",(0,n.jsx)(s.h4,{id:"returns-9",children:"Returns"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.code,{children:"T"})}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsx)(s.h3,{id:"popexn",children:"popExn()"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-ts",children:"popExn(): T\n"})}),"\n",(0,n.jsxs)(s.p,{children:["Defined in: ",(0,n.jsx)(s.a,{href:"https://github.com/o1-labs/o1js/blob/df1ff77af12d7cbbed4a6167f02815fad4f0dceb/src/lib/provable/merkle-list.ts#L137",children:"lib/provable/merkle-list.ts:137"})]}),"\n",(0,n.jsx)(s.p,{children:"Remove the last element from the list and return it."}),"\n",(0,n.jsx)(s.p,{children:"This proves that the list is non-empty, and fails otherwise."}),"\n",(0,n.jsx)(s.h4,{id:"returns-10",children:"Returns"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.code,{children:"T"})}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsx)(s.h3,{id:"popif",children:"popIf()"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-ts",children:"popIf(condition: Bool): T\n"})}),"\n",(0,n.jsxs)(s.p,{children:["Defined in: ",(0,n.jsx)(s.a,{href:"https://github.com/o1-labs/o1js/blob/df1ff77af12d7cbbed4a6167f02815fad4f0dceb/src/lib/provable/merkle-list.ts#L192",children:"lib/provable/merkle-list.ts:192"})]}),"\n",(0,n.jsxs)(s.p,{children:["Return the last element, but only remove it if ",(0,n.jsx)(s.code,{children:"condition"})," is true."]}),"\n",(0,n.jsx)(s.p,{children:"If the list is empty, returns a dummy element."}),"\n",(0,n.jsx)(s.h4,{id:"parameters-3",children:"Parameters"}),"\n",(0,n.jsx)(s.h5,{id:"condition",children:"condition"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.a,{href:"/o1js/2.4.0/api-reference/classes/Bool",children:(0,n.jsx)(s.code,{children:"Bool"})})}),"\n",(0,n.jsx)(s.h4,{id:"returns-11",children:"Returns"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.code,{children:"T"})}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsx)(s.h3,{id:"popifunsafe",children:"popIfUnsafe()"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-ts",children:"popIfUnsafe(shouldPop: Bool): T\n"})}),"\n",(0,n.jsxs)(s.p,{children:["Defined in: ",(0,n.jsx)(s.a,{href:"https://github.com/o1-labs/o1js/blob/df1ff77af12d7cbbed4a6167f02815fad4f0dceb/src/lib/provable/merkle-list.ts#L216",children:"lib/provable/merkle-list.ts:216"})]}),"\n",(0,n.jsxs)(s.p,{children:["Low-level, minimal version of ",(0,n.jsx)(s.code,{children:"pop()"})," which lets the ",(0,n.jsx)(s.em,{children:"caller"})," decide whether there is an element to pop."]}),"\n",(0,n.jsx)(s.p,{children:"I.e. this proves:"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"If the input condition is true, this returns the last element and removes it from the list."}),"\n",(0,n.jsx)(s.li,{children:"If the input condition is false, the list is unchanged and the return value is garbage."}),"\n"]}),"\n",(0,n.jsxs)(s.p,{children:["Note that if the caller passes ",(0,n.jsx)(s.code,{children:"true"})," but the list is empty, this will fail.\nIf the caller passes ",(0,n.jsx)(s.code,{children:"false"})," but the list is non-empty, this succeeds and just doesn't pop off an element."]}),"\n",(0,n.jsx)(s.h4,{id:"parameters-4",children:"Parameters"}),"\n",(0,n.jsx)(s.h5,{id:"shouldpop",children:"shouldPop"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.a,{href:"/o1js/2.4.0/api-reference/classes/Bool",children:(0,n.jsx)(s.code,{children:"Bool"})})}),"\n",(0,n.jsx)(s.h4,{id:"returns-12",children:"Returns"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.code,{children:"T"})}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsx)(s.h3,{id:"popoption",children:"popOption()"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-ts",children:"popOption(): Option<T>\n"})}),"\n",(0,n.jsxs)(s.p,{children:["Defined in: ",(0,n.jsx)(s.a,{href:"https://github.com/o1-labs/o1js/blob/df1ff77af12d7cbbed4a6167f02815fad4f0dceb/src/lib/provable/merkle-list.ts#L172",children:"lib/provable/merkle-list.ts:172"})]}),"\n",(0,n.jsx)(s.p,{children:"Remove the last element from the list and return it as an option:\nSome(element) if the list is non-empty, None if the list is empty."}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Warning"}),": If the list is empty, the the option's .value is entirely unconstrained."]}),"\n",(0,n.jsx)(s.h4,{id:"returns-13",children:"Returns"}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.a,{href:"/o1js/2.4.0/api-reference/type-aliases/Option",children:(0,n.jsx)(s.code,{children:"Option"})}),"<",(0,n.jsx)(s.code,{children:"T"}),">"]}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsx)(s.h3,{id:"push",children:"push()"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-ts",children:"push(element: T): void\n"})}),"\n",(0,n.jsxs)(s.p,{children:["Defined in: ",(0,n.jsx)(s.a,{href:"https://github.com/o1-labs/o1js/blob/df1ff77af12d7cbbed4a6167f02815fad4f0dceb/src/lib/provable/merkle-list.ts#L97",children:"lib/provable/merkle-list.ts:97"})]}),"\n",(0,n.jsx)(s.p,{children:"Push a new element to the list."}),"\n",(0,n.jsx)(s.h4,{id:"parameters-5",children:"Parameters"}),"\n",(0,n.jsx)(s.h5,{id:"element",children:"element"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.code,{children:"T"})}),"\n",(0,n.jsx)(s.h4,{id:"returns-14",children:"Returns"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.code,{children:"void"})}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsx)(s.h3,{id:"pushif",children:"pushIf()"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-ts",children:"pushIf(condition: Bool, element: T): void\n"})}),"\n",(0,n.jsxs)(s.p,{children:["Defined in: ",(0,n.jsx)(s.a,{href:"https://github.com/o1-labs/o1js/blob/df1ff77af12d7cbbed4a6167f02815fad4f0dceb/src/lib/provable/merkle-list.ts#L109",children:"lib/provable/merkle-list.ts:109"})]}),"\n",(0,n.jsxs)(s.p,{children:["Push a new element to the list, if the ",(0,n.jsx)(s.code,{children:"condition"})," is true."]}),"\n",(0,n.jsx)(s.h4,{id:"parameters-6",children:"Parameters"}),"\n",(0,n.jsx)(s.h5,{id:"condition-1",children:"condition"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.a,{href:"/o1js/2.4.0/api-reference/classes/Bool",children:(0,n.jsx)(s.code,{children:"Bool"})})}),"\n",(0,n.jsx)(s.h5,{id:"element-1",children:"element"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.code,{children:"T"})}),"\n",(0,n.jsx)(s.h4,{id:"returns-15",children:"Returns"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.code,{children:"void"})}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsx)(s.h3,{id:"startiterating",children:"startIterating()"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-ts",children:"startIterating(): MerkleListIterator<T>\n"})}),"\n",(0,n.jsxs)(s.p,{children:["Defined in: ",(0,n.jsx)(s.a,{href:"https://github.com/o1-labs/o1js/blob/df1ff77af12d7cbbed4a6167f02815fad4f0dceb/src/lib/provable/merkle-list.ts#L259",children:"lib/provable/merkle-list.ts:259"})]}),"\n",(0,n.jsx)(s.h4,{id:"returns-16",children:"Returns"}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.a,{href:"/o1js/2.4.0/api-reference/classes/MerkleListIterator",children:(0,n.jsx)(s.code,{children:"MerkleListIterator"})}),"<",(0,n.jsx)(s.code,{children:"T"}),">"]}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsx)(s.h3,{id:"startiteratingfromlast",children:"startIteratingFromLast()"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-ts",children:"startIteratingFromLast(): MerkleListIterator<T>\n"})}),"\n",(0,n.jsxs)(s.p,{children:["Defined in: ",(0,n.jsx)(s.a,{href:"https://github.com/o1-labs/o1js/blob/df1ff77af12d7cbbed4a6167f02815fad4f0dceb/src/lib/provable/merkle-list.ts#L264",children:"lib/provable/merkle-list.ts:264"})]}),"\n",(0,n.jsx)(s.h4,{id:"returns-17",children:"Returns"}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.a,{href:"/o1js/2.4.0/api-reference/classes/MerkleListIterator",children:(0,n.jsx)(s.code,{children:"MerkleListIterator"})}),"<",(0,n.jsx)(s.code,{children:"T"}),">"]}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsx)(s.h3,{id:"toarrayunconstrained",children:"toArrayUnconstrained()"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-ts",children:"toArrayUnconstrained(): Unconstrained<T[]>\n"})}),"\n",(0,n.jsxs)(s.p,{children:["Defined in: ",(0,n.jsx)(s.a,{href:"https://github.com/o1-labs/o1js/blob/df1ff77af12d7cbbed4a6167f02815fad4f0dceb/src/lib/provable/merkle-list.ts#L269",children:"lib/provable/merkle-list.ts:269"})]}),"\n",(0,n.jsx)(s.h4,{id:"returns-18",children:"Returns"}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.a,{href:"/o1js/2.4.0/api-reference/classes/Unconstrained",children:(0,n.jsx)(s.code,{children:"Unconstrained"})}),"<",(0,n.jsx)(s.code,{children:"T"}),"[]>"]}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsx)(s.h3,{id:"create",children:"create()"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-ts",children:"static create<T>(\n   type: WithProvable<ProvableHashable<T>>, \n   nextHash: (hash: Field, value: T) => Field, \n   emptyHash_: Field): typeof MerkleList & {\n  empty: () => MerkleList<T>;\n  from: (array: T[]) => MerkleList<T>;\n  fromReverse: (array: T[]) => MerkleList<T>;\n  provable: ProvableHashable<MerkleList<T>>;\n}\n"})}),"\n",(0,n.jsxs)(s.p,{children:["Defined in: ",(0,n.jsx)(s.a,{href:"https://github.com/o1-labs/o1js/blob/df1ff77af12d7cbbed4a6167f02815fad4f0dceb/src/lib/provable/merkle-list.ts#L289",children:"lib/provable/merkle-list.ts:289"})]}),"\n",(0,n.jsx)(s.p,{children:"Create a Merkle list type"}),"\n",(0,n.jsxs)(s.p,{children:["Optionally, you can tell ",(0,n.jsx)(s.code,{children:"create()"})," how to do the hash that pushes a new list element, by passing a ",(0,n.jsx)(s.code,{children:"nextHash"})," function."]}),"\n",(0,n.jsx)(s.h4,{id:"type-parameters-1",children:"Type Parameters"}),"\n",(0,n.jsxs)(s.p,{children:["\u2022 ",(0,n.jsx)(s.strong,{children:"T"})]}),"\n",(0,n.jsx)(s.h4,{id:"parameters-7",children:"Parameters"}),"\n",(0,n.jsx)(s.h5,{id:"type",children:"type"}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.a,{href:"/o1js/2.4.0/api-reference/type-aliases/WithProvable",children:(0,n.jsx)(s.code,{children:"WithProvable"})}),"<",(0,n.jsx)(s.a,{href:"/o1js/2.4.0/api-reference/type-aliases/ProvableHashable",children:(0,n.jsx)(s.code,{children:"ProvableHashable"})}),"<",(0,n.jsx)(s.code,{children:"T"}),">>"]}),"\n",(0,n.jsx)(s.h5,{id:"nexthash-1",children:"nextHash"}),"\n",(0,n.jsxs)(s.p,{children:["(",(0,n.jsx)(s.code,{children:"hash"}),": ",(0,n.jsx)(s.a,{href:"/o1js/2.4.0/api-reference/classes/Field",children:(0,n.jsx)(s.code,{children:"Field"})}),", ",(0,n.jsx)(s.code,{children:"value"}),": ",(0,n.jsx)(s.code,{children:"T"}),") => ",(0,n.jsx)(s.a,{href:"/o1js/2.4.0/api-reference/classes/Field",children:(0,n.jsx)(s.code,{children:"Field"})})]}),"\n",(0,n.jsx)(s.h5,{id:"emptyhash_",children:"emptyHash_"}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.a,{href:"/o1js/2.4.0/api-reference/classes/Field",children:(0,n.jsx)(s.code,{children:"Field"})})," = ",(0,n.jsx)(s.code,{children:"emptyHash"})]}),"\n",(0,n.jsx)(s.h4,{id:"returns-19",children:"Returns"}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.em,{children:"typeof"})," ",(0,n.jsx)(s.a,{href:"/o1js/2.4.0/api-reference/classes/MerkleList",children:(0,n.jsx)(s.code,{children:"MerkleList"})})," & {\n",(0,n.jsx)(s.code,{children:"empty"}),": () => ",(0,n.jsx)(s.a,{href:"/o1js/2.4.0/api-reference/classes/MerkleList",children:(0,n.jsx)(s.code,{children:"MerkleList"})}),"<",(0,n.jsx)(s.code,{children:"T"}),">;\n",(0,n.jsx)(s.code,{children:"from"}),": (",(0,n.jsx)(s.code,{children:"array"}),": ",(0,n.jsx)(s.code,{children:"T"}),"[]) => ",(0,n.jsx)(s.a,{href:"/o1js/2.4.0/api-reference/classes/MerkleList",children:(0,n.jsx)(s.code,{children:"MerkleList"})}),"<",(0,n.jsx)(s.code,{children:"T"}),">;\n",(0,n.jsx)(s.code,{children:"fromReverse"}),": (",(0,n.jsx)(s.code,{children:"array"}),": ",(0,n.jsx)(s.code,{children:"T"}),"[]) => ",(0,n.jsx)(s.a,{href:"/o1js/2.4.0/api-reference/classes/MerkleList",children:(0,n.jsx)(s.code,{children:"MerkleList"})}),"<",(0,n.jsx)(s.code,{children:"T"}),">;\n",(0,n.jsx)(s.code,{children:"provable"}),": ",(0,n.jsx)(s.a,{href:"/o1js/2.4.0/api-reference/type-aliases/ProvableHashable",children:(0,n.jsx)(s.code,{children:"ProvableHashable"})}),"<",(0,n.jsx)(s.a,{href:"/o1js/2.4.0/api-reference/classes/MerkleList",children:(0,n.jsx)(s.code,{children:"MerkleList"})}),"<",(0,n.jsx)(s.code,{children:"T"}),">>;\n}"]}),"\n",(0,n.jsx)(s.h4,{id:"example",children:"Example"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-ts",children:"class MyList extends MerkleList.create(Field, (hash, x) =>\n  Poseidon.hashWithPrefix('custom', [hash, x])\n) {}\n"})})]})}function o(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}}}]);