"use strict";(self.webpackChunkdocumentation_site=self.webpackChunkdocumentation_site||[]).push([[48209],{28453:(e,r,n)=>{n.d(r,{R:()=>d,x:()=>t});var l=n(96540);const s={},i=l.createContext(s);function d(e){const r=l.useContext(i);return l.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function t(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),l.createElement(i.Provider,{value:r},e.children)}},34867:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>a,contentTitle:()=>t,default:()=>o,frontMatter:()=>d,metadata:()=>l,toc:()=>c});const l=JSON.parse('{"id":"api-reference/classes/MerkleTree","title":"MerkleTree","description":"Defined in28","source":"@site/versioned_docs/version-2.4.0/api-reference/classes/MerkleTree.mdx","sourceDirName":"api-reference/classes","slug":"/api-reference/classes/MerkleTree","permalink":"/o1js/2.4.0/api-reference/classes/MerkleTree","draft":false,"unlisted":false,"editUrl":"https://github.com/versioned_docs/version-2.4.0/api-reference/classes/MerkleTree.mdx","tags":[],"version":"2.4.0","frontMatter":{},"sidebar":"docs","previous":{"title":"MerkleMapWitness","permalink":"/o1js/2.4.0/api-reference/classes/MerkleMapWitness"},"next":{"title":"Nullifier","permalink":"/o1js/2.4.0/api-reference/classes/Nullifier"}}');var s=n(74848),i=n(28453);const d={},t=void 0,a={},c=[{value:"Constructors",id:"constructors",level:2},{value:"new MerkleTree()",id:"new-merkletree",level:3},{value:"Parameters",id:"parameters",level:4},{value:"height",id:"height",level:5},{value:"Returns",id:"returns",level:4},{value:"Properties",id:"properties",level:2},{value:"height",id:"height-1",level:3},{value:"nodes",id:"nodes",level:3},{value:"zeroes",id:"zeroes",level:3},{value:"Accessors",id:"accessors",level:2},{value:"leafCount",id:"leafcount",level:3},{value:"Get Signature",id:"get-signature",level:4},{value:"Returns",id:"returns-1",level:5},{value:"Methods",id:"methods",level:2},{value:"clone()",id:"clone",level:3},{value:"Returns",id:"returns-2",level:4},{value:"fill()",id:"fill",level:3},{value:"Parameters",id:"parameters-1",level:4},{value:"leaves",id:"leaves",level:5},{value:"Returns",id:"returns-3",level:4},{value:"getLeaf()",id:"getleaf",level:3},{value:"Parameters",id:"parameters-2",level:4},{value:"index",id:"index",level:5},{value:"Returns",id:"returns-4",level:4},{value:"getNode()",id:"getnode",level:3},{value:"Parameters",id:"parameters-3",level:4},{value:"level",id:"level",level:5},{value:"index",id:"index-1",level:5},{value:"Returns",id:"returns-5",level:4},{value:"getRoot()",id:"getroot",level:3},{value:"Returns",id:"returns-6",level:4},{value:"getWitness()",id:"getwitness",level:3},{value:"Parameters",id:"parameters-4",level:4},{value:"index",id:"index-2",level:5},{value:"Returns",id:"returns-7",level:4},{value:"setLeaf()",id:"setleaf",level:3},{value:"Parameters",id:"parameters-5",level:4},{value:"index",id:"index-3",level:5},{value:"leaf",id:"leaf",level:5},{value:"Returns",id:"returns-8",level:4},{value:"validate()",id:"validate",level:3},{value:"Parameters",id:"parameters-6",level:4},{value:"index",id:"index-4",level:5},{value:"Returns",id:"returns-9",level:4}];function h(e){const r={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",h5:"h5",hr:"hr",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(r.p,{children:["Defined in: ",(0,s.jsx)(r.a,{href:"https://github.com/o1-labs/o1js/blob/df1ff77af12d7cbbed4a6167f02815fad4f0dceb/src/lib/provable/merkle-tree.ts#L28",children:"lib/provable/merkle-tree.ts:28"})]}),"\n",(0,s.jsxs)(r.p,{children:["A ",(0,s.jsx)(r.a,{href:"https://en.wikipedia.org/wiki/Merkle_tree",children:"Merkle Tree"})," is a binary tree in which every leaf is the cryptography hash of a piece of data,\nand every node is the hash of the concatenation of its two child nodes."]}),"\n",(0,s.jsx)(r.p,{children:"A Merkle Tree allows developers to easily and securely verify the integrity of large amounts of data."}),"\n",(0,s.jsxs)(r.p,{children:["Take a look at our ",(0,s.jsx)(r.a,{href:"https://docs.minaprotocol.com/en/zkapps",children:"documentation"})," on how to use Merkle Trees in combination with zkApps and zero knowledge programming!"]}),"\n",(0,s.jsx)(r.p,{children:"Levels are indexed from leaves (level 0) to root (level N - 1)."}),"\n",(0,s.jsx)(r.h2,{id:"constructors",children:"Constructors"}),"\n",(0,s.jsx)(r.h3,{id:"new-merkletree",children:"new MerkleTree()"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-ts",children:"new MerkleTree(height: number): MerkleTree\n"})}),"\n",(0,s.jsxs)(r.p,{children:["Defined in: ",(0,s.jsx)(r.a,{href:"https://github.com/o1-labs/o1js/blob/df1ff77af12d7cbbed4a6167f02815fad4f0dceb/src/lib/provable/merkle-tree.ts#L37",children:"lib/provable/merkle-tree.ts:37"})]}),"\n",(0,s.jsxs)(r.p,{children:["Creates a new, empty ",(0,s.jsx)(r.a,{href:"https://en.wikipedia.org/wiki/Merkle_tree",children:"Merkle Tree"}),"."]}),"\n",(0,s.jsx)(r.h4,{id:"parameters",children:"Parameters"}),"\n",(0,s.jsx)(r.h5,{id:"height",children:"height"}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.code,{children:"number"})}),"\n",(0,s.jsx)(r.p,{children:"The height of Merkle Tree."}),"\n",(0,s.jsx)(r.h4,{id:"returns",children:"Returns"}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.a,{href:"/o1js/2.4.0/api-reference/classes/MerkleTree",children:(0,s.jsx)(r.code,{children:"MerkleTree"})})}),"\n",(0,s.jsx)(r.p,{children:"A new MerkleTree"}),"\n",(0,s.jsx)(r.h2,{id:"properties",children:"Properties"}),"\n",(0,s.jsx)(r.h3,{id:"height-1",children:"height"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-ts",children:"readonly height: number;\n"})}),"\n",(0,s.jsxs)(r.p,{children:["Defined in: ",(0,s.jsx)(r.a,{href:"https://github.com/o1-labs/o1js/blob/df1ff77af12d7cbbed4a6167f02815fad4f0dceb/src/lib/provable/merkle-tree.ts#L37",children:"lib/provable/merkle-tree.ts:37"})]}),"\n",(0,s.jsx)(r.p,{children:"The height of Merkle Tree."}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h3,{id:"nodes",children:"nodes"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-ts",children:"nodes: Record<number, Record<string, Field>> = {};\n"})}),"\n",(0,s.jsxs)(r.p,{children:["Defined in: ",(0,s.jsx)(r.a,{href:"https://github.com/o1-labs/o1js/blob/df1ff77af12d7cbbed4a6167f02815fad4f0dceb/src/lib/provable/merkle-tree.ts#L29",children:"lib/provable/merkle-tree.ts:29"})]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h3,{id:"zeroes",children:"zeroes"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-ts",children:"zeroes: Field[];\n"})}),"\n",(0,s.jsxs)(r.p,{children:["Defined in: ",(0,s.jsx)(r.a,{href:"https://github.com/o1-labs/o1js/blob/df1ff77af12d7cbbed4a6167f02815fad4f0dceb/src/lib/provable/merkle-tree.ts#L30",children:"lib/provable/merkle-tree.ts:30"})]}),"\n",(0,s.jsx)(r.h2,{id:"accessors",children:"Accessors"}),"\n",(0,s.jsx)(r.h3,{id:"leafcount",children:"leafCount"}),"\n",(0,s.jsx)(r.h4,{id:"get-signature",children:"Get Signature"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-ts",children:"get leafCount(): bigint\n"})}),"\n",(0,s.jsxs)(r.p,{children:["Defined in: ",(0,s.jsx)(r.a,{href:"https://github.com/o1-labs/o1js/blob/df1ff77af12d7cbbed4a6167f02815fad4f0dceb/src/lib/provable/merkle-tree.ts#L160",children:"lib/provable/merkle-tree.ts:160"})]}),"\n",(0,s.jsx)(r.p,{children:"Returns the amount of leaf nodes."}),"\n",(0,s.jsx)(r.h5,{id:"returns-1",children:"Returns"}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.code,{children:"bigint"})}),"\n",(0,s.jsx)(r.p,{children:"Amount of leaf nodes."}),"\n",(0,s.jsx)(r.h2,{id:"methods",children:"Methods"}),"\n",(0,s.jsx)(r.h3,{id:"clone",children:"clone()"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-ts",children:"clone(): MerkleTree\n"})}),"\n",(0,s.jsxs)(r.p,{children:["Defined in: ",(0,s.jsx)(r.a,{href:"https://github.com/o1-labs/o1js/blob/df1ff77af12d7cbbed4a6167f02815fad4f0dceb/src/lib/provable/merkle-tree.ts#L48",children:"lib/provable/merkle-tree.ts:48"})]}),"\n",(0,s.jsx)(r.p,{children:"Return a new MerkleTree with the same contents as this one."}),"\n",(0,s.jsx)(r.h4,{id:"returns-2",children:"Returns"}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.a,{href:"/o1js/2.4.0/api-reference/classes/MerkleTree",children:(0,s.jsx)(r.code,{children:"MerkleTree"})})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h3,{id:"fill",children:"fill()"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-ts",children:"fill(leaves: Field[]): void\n"})}),"\n",(0,s.jsxs)(r.p,{children:["Defined in: ",(0,s.jsx)(r.a,{href:"https://github.com/o1-labs/o1js/blob/df1ff77af12d7cbbed4a6167f02815fad4f0dceb/src/lib/provable/merkle-tree.ts#L150",children:"lib/provable/merkle-tree.ts:150"})]}),"\n",(0,s.jsx)(r.p,{children:"Fills all leaves of the tree."}),"\n",(0,s.jsx)(r.h4,{id:"parameters-1",children:"Parameters"}),"\n",(0,s.jsx)(r.h5,{id:"leaves",children:"leaves"}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.a,{href:"/o1js/2.4.0/api-reference/classes/Field",children:(0,s.jsx)(r.code,{children:"Field"})}),"[]"]}),"\n",(0,s.jsx)(r.p,{children:"Values to fill the leaves with."}),"\n",(0,s.jsx)(r.h4,{id:"returns-3",children:"Returns"}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.code,{children:"void"})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h3,{id:"getleaf",children:"getLeaf()"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-ts",children:"getLeaf(index: bigint): Field\n"})}),"\n",(0,s.jsxs)(r.p,{children:["Defined in: ",(0,s.jsx)(r.a,{href:"https://github.com/o1-labs/o1js/blob/df1ff77af12d7cbbed4a6167f02815fad4f0dceb/src/lib/provable/merkle-tree.ts#L71",children:"lib/provable/merkle-tree.ts:71"})]}),"\n",(0,s.jsx)(r.p,{children:"Returns a leaf at a given index."}),"\n",(0,s.jsx)(r.h4,{id:"parameters-2",children:"Parameters"}),"\n",(0,s.jsx)(r.h5,{id:"index",children:"index"}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.code,{children:"bigint"})}),"\n",(0,s.jsx)(r.p,{children:"Index of the leaf."}),"\n",(0,s.jsx)(r.h4,{id:"returns-4",children:"Returns"}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.a,{href:"/o1js/2.4.0/api-reference/classes/Field",children:(0,s.jsx)(r.code,{children:"Field"})})}),"\n",(0,s.jsx)(r.p,{children:"The data of the leaf."}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h3,{id:"getnode",children:"getNode()"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-ts",children:"getNode(level: number, index: bigint): Field\n"})}),"\n",(0,s.jsxs)(r.p,{children:["Defined in: ",(0,s.jsx)(r.a,{href:"https://github.com/o1-labs/o1js/blob/df1ff77af12d7cbbed4a6167f02815fad4f0dceb/src/lib/provable/merkle-tree.ts#L62",children:"lib/provable/merkle-tree.ts:62"})]}),"\n",(0,s.jsx)(r.p,{children:"Returns a node which lives at a given index and level."}),"\n",(0,s.jsx)(r.h4,{id:"parameters-3",children:"Parameters"}),"\n",(0,s.jsx)(r.h5,{id:"level",children:"level"}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.code,{children:"number"})}),"\n",(0,s.jsx)(r.p,{children:"Level of the node."}),"\n",(0,s.jsx)(r.h5,{id:"index-1",children:"index"}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.code,{children:"bigint"})}),"\n",(0,s.jsx)(r.p,{children:"Index of the node."}),"\n",(0,s.jsx)(r.h4,{id:"returns-5",children:"Returns"}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.a,{href:"/o1js/2.4.0/api-reference/classes/Field",children:(0,s.jsx)(r.code,{children:"Field"})})}),"\n",(0,s.jsx)(r.p,{children:"The data of the node."}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h3,{id:"getroot",children:"getRoot()"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-ts",children:"getRoot(): Field\n"})}),"\n",(0,s.jsxs)(r.p,{children:["Defined in: ",(0,s.jsx)(r.a,{href:"https://github.com/o1-labs/o1js/blob/df1ff77af12d7cbbed4a6167f02815fad4f0dceb/src/lib/provable/merkle-tree.ts#L79",children:"lib/provable/merkle-tree.ts:79"})]}),"\n",(0,s.jsxs)(r.p,{children:["Returns the root of the ",(0,s.jsx)(r.a,{href:"https://en.wikipedia.org/wiki/Merkle_tree",children:"Merkle Tree"}),"."]}),"\n",(0,s.jsx)(r.h4,{id:"returns-6",children:"Returns"}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.a,{href:"/o1js/2.4.0/api-reference/classes/Field",children:(0,s.jsx)(r.code,{children:"Field"})})}),"\n",(0,s.jsx)(r.p,{children:"The root of the Merkle Tree."}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h3,{id:"getwitness",children:"getWitness()"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-ts",children:"getWitness(index: bigint): Witness\n"})}),"\n",(0,s.jsxs)(r.p,{children:["Defined in: ",(0,s.jsx)(r.a,{href:"https://github.com/o1-labs/o1js/blob/df1ff77af12d7cbbed4a6167f02815fad4f0dceb/src/lib/provable/merkle-tree.ts#L115",children:"lib/provable/merkle-tree.ts:115"})]}),"\n",(0,s.jsxs)(r.p,{children:["Returns the witness (also known as ",(0,s.jsx)(r.a,{href:"https://computersciencewiki.org/index.php/Merkle_proof",children:"Merkle Proof or Merkle Witness"}),") for the leaf at the given index."]}),"\n",(0,s.jsx)(r.h4,{id:"parameters-4",children:"Parameters"}),"\n",(0,s.jsx)(r.h5,{id:"index-2",children:"index"}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.code,{children:"bigint"})}),"\n",(0,s.jsx)(r.p,{children:"Position of the leaf node."}),"\n",(0,s.jsx)(r.h4,{id:"returns-7",children:"Returns"}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.a,{href:"/o1js/2.4.0/api-reference/type-aliases/Witness",children:(0,s.jsx)(r.code,{children:"Witness"})})}),"\n",(0,s.jsx)(r.p,{children:"The witness that belongs to the leaf."}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h3,{id:"setleaf",children:"setLeaf()"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-ts",children:"setLeaf(index: bigint, leaf: Field): void\n"})}),"\n",(0,s.jsxs)(r.p,{children:["Defined in: ",(0,s.jsx)(r.a,{href:"https://github.com/o1-labs/o1js/blob/df1ff77af12d7cbbed4a6167f02815fad4f0dceb/src/lib/provable/merkle-tree.ts#L94",children:"lib/provable/merkle-tree.ts:94"})]}),"\n",(0,s.jsx)(r.p,{children:"Sets the value of a leaf node at a given index to a given value."}),"\n",(0,s.jsx)(r.h4,{id:"parameters-5",children:"Parameters"}),"\n",(0,s.jsx)(r.h5,{id:"index-3",children:"index"}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.code,{children:"bigint"})}),"\n",(0,s.jsx)(r.p,{children:"Position of the leaf node."}),"\n",(0,s.jsx)(r.h5,{id:"leaf",children:"leaf"}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.a,{href:"/o1js/2.4.0/api-reference/classes/Field",children:(0,s.jsx)(r.code,{children:"Field"})})}),"\n",(0,s.jsx)(r.p,{children:"New value."}),"\n",(0,s.jsx)(r.h4,{id:"returns-8",children:"Returns"}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.code,{children:"void"})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h3,{id:"validate",children:"validate()"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-ts",children:"validate(index: bigint): boolean\n"})}),"\n",(0,s.jsxs)(r.p,{children:["Defined in: ",(0,s.jsx)(r.a,{href:"https://github.com/o1-labs/o1js/blob/df1ff77af12d7cbbed4a6167f02815fad4f0dceb/src/lib/provable/merkle-tree.ts#L135",children:"lib/provable/merkle-tree.ts:135"})]}),"\n",(0,s.jsx)(r.p,{children:"Checks if the witness that belongs to the leaf at the given index is a valid witness."}),"\n",(0,s.jsx)(r.h4,{id:"parameters-6",children:"Parameters"}),"\n",(0,s.jsx)(r.h5,{id:"index-4",children:"index"}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.code,{children:"bigint"})}),"\n",(0,s.jsx)(r.p,{children:"Position of the leaf node."}),"\n",(0,s.jsx)(r.h4,{id:"returns-9",children:"Returns"}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.code,{children:"boolean"})}),"\n",(0,s.jsx)(r.p,{children:"True if the witness for the leaf node is valid."})]})}function o(e={}){const{wrapper:r}={...(0,i.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}}}]);