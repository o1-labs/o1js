"use strict";(self.webpackChunkdocumentation_site=self.webpackChunkdocumentation_site||[]).push([[50977],{28453:(e,s,n)=>{n.d(s,{R:()=>c,x:()=>d});var a=n(96540);const r={},l=a.createContext(r);function c(e){const s=a.useContext(l);return a.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),a.createElement(l.Provider,{value:s},e.children)}},49552:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>i,contentTitle:()=>d,default:()=>h,frontMatter:()=>c,metadata:()=>a,toc:()=>t});const a=JSON.parse('{"id":"api-reference/classes/Packed","title":"Packed","description":"Defined in50","source":"@site/docs/api-reference/classes/Packed.mdx","sourceDirName":"api-reference/classes","slug":"/api-reference/classes/Packed","permalink":"/o1js/api-reference/classes/Packed","draft":false,"unlisted":false,"editUrl":"https://github.com/docs/api-reference/classes/Packed.mdx","tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"Nullifier","permalink":"/o1js/api-reference/classes/Nullifier"},"next":{"title":"PrivateKey","permalink":"/o1js/api-reference/classes/PrivateKey"}}');var r=n(74848),l=n(28453);const c={},d=void 0,i={},t=[{value:"Type Parameters",id:"type-parameters",level:2},{value:"Constructors",id:"constructors",level:2},{value:"new Packed()",id:"new-packed",level:3},{value:"Parameters",id:"parameters",level:4},{value:"packed",id:"packed",level:5},{value:"value",id:"value",level:5},{value:"Returns",id:"returns",level:4},{value:"Properties",id:"properties",level:2},{value:"packed",id:"packed-1",level:3},{value:"value",id:"value-1",level:3},{value:"_innerProvable",id:"_innerprovable",level:3},{value:"_provable",id:"_provable",level:3},{value:"Accessors",id:"accessors",level:2},{value:"Constructor",id:"constructor",level:3},{value:"Get Signature",id:"get-signature",level:4},{value:"Returns",id:"returns-1",level:5},{value:"innerProvable",id:"innerprovable",level:3},{value:"Get Signature",id:"get-signature-1",level:4},{value:"Returns",id:"returns-2",level:5},{value:"Methods",id:"methods",level:2},{value:"toFields()",id:"tofields",level:3},{value:"Returns",id:"returns-3",level:4},{value:"unpack()",id:"unpack",level:3},{value:"Returns",id:"returns-4",level:4},{value:"create()",id:"create",level:3},{value:"Type Parameters",id:"type-parameters-1",level:4},{value:"Parameters",id:"parameters-1",level:4},{value:"type",id:"type",level:5},{value:"Returns",id:"returns-5",level:4}];function o(e){const s={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",h5:"h5",hr:"hr",p:"p",pre:"pre",strong:"strong",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.p,{children:["Defined in: ",(0,r.jsx)(s.a,{href:"https://github.com/o1-labs/o1js/blob/df1ff77af12d7cbbed4a6167f02815fad4f0dceb/src/lib/provable/packed.ts#L50",children:"lib/provable/packed.ts:50"})]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.code,{children:"Packed<T>"}),' is a "packed" representation of any type ',(0,r.jsx)(s.code,{children:"T"}),"."]}),"\n",(0,r.jsx)(s.p,{children:'"Packed" means that field elements which take up fewer than 254 bits are packed together into\nas few field elements as possible.'}),"\n",(0,r.jsx)(s.p,{children:"For example, you can pack several Bools (1 bit) or UInt32s (32 bits) into a single field element."}),"\n",(0,r.jsx)(s.p,{children:"Using a packed representation can make sense in provable code where the number of constraints\ndepends on the number of field elements per value."}),"\n",(0,r.jsxs)(s.p,{children:["For example, ",(0,r.jsx)(s.code,{children:"Provable.if(bool, x, y)"})," takes O(n) constraints, where n is the number of field\nelements in x and y."]}),"\n",(0,r.jsx)(s.p,{children:"Usage:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-ts",children:"// define a packed type from a type\nlet PackedType = Packed.create(MyType);\n\n// pack a value\nlet packed = PackedType.pack(value);\n\n// ... operations on packed values, more efficient than on plain values ...\n\n// unpack a value\nlet value = packed.unpack();\n"})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Warning"}),": Packing only makes sense where packing actually reduces the number of field elements.\nFor example, it doesn't make sense to pack a ",(0,r.jsx)(s.em,{children:"single"})," Bool, because it will be 1 field element before\nand after packing. On the other hand, it does makes sense to pack a type that holds 10 or 20 Bools."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Warning"}),": When wrapping a type with ",(0,r.jsx)(s.code,{children:"Packed"}),", make sure that that type is safe to automatically ",(0,r.jsx)(s.em,{children:"pack"}),"\nand ",(0,r.jsx)(s.em,{children:"unpack"})," in provable code. In particular, do not use ",(0,r.jsx)(s.code,{children:"Packed"})," with types that define a custom ",(0,r.jsx)(s.code,{children:"toInput()"}),"\n(specifying a certain bit packing) but no corresponding ",(0,r.jsx)(s.code,{children:"check()"})," method (that constrains the bit lengths of the packed parts)."]}),"\n",(0,r.jsx)(s.h2,{id:"type-parameters",children:"Type Parameters"}),"\n",(0,r.jsxs)(s.p,{children:["\u2022 ",(0,r.jsx)(s.strong,{children:"T"})]}),"\n",(0,r.jsx)(s.h2,{id:"constructors",children:"Constructors"}),"\n",(0,r.jsx)(s.h3,{id:"new-packed",children:"new Packed()"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-ts",children:"new Packed<T>(packed: Field[], value: Unconstrained<T>): Packed<T>\n"})}),"\n",(0,r.jsxs)(s.p,{children:["Defined in: ",(0,r.jsx)(s.a,{href:"https://github.com/o1-labs/o1js/blob/df1ff77af12d7cbbed4a6167f02815fad4f0dceb/src/lib/provable/packed.ts#L109",children:"lib/provable/packed.ts:109"})]}),"\n",(0,r.jsx)(s.h4,{id:"parameters",children:"Parameters"}),"\n",(0,r.jsx)(s.h5,{id:"packed",children:"packed"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.a,{href:"/o1js/api-reference/classes/Field",children:(0,r.jsx)(s.code,{children:"Field"})}),"[]"]}),"\n",(0,r.jsx)(s.h5,{id:"value",children:"value"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.a,{href:"/o1js/api-reference/classes/Unconstrained",children:(0,r.jsx)(s.code,{children:"Unconstrained"})}),"<",(0,r.jsx)(s.code,{children:"T"}),">"]}),"\n",(0,r.jsx)(s.h4,{id:"returns",children:"Returns"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.a,{href:"/o1js/api-reference/classes/Packed",children:(0,r.jsx)(s.code,{children:"Packed"})}),"<",(0,r.jsx)(s.code,{children:"T"}),">"]}),"\n",(0,r.jsx)(s.h2,{id:"properties",children:"Properties"}),"\n",(0,r.jsx)(s.h3,{id:"packed-1",children:"packed"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-ts",children:"packed: Field[];\n"})}),"\n",(0,r.jsxs)(s.p,{children:["Defined in: ",(0,r.jsx)(s.a,{href:"https://github.com/o1-labs/o1js/blob/df1ff77af12d7cbbed4a6167f02815fad4f0dceb/src/lib/provable/packed.ts#L51",children:"lib/provable/packed.ts:51"})]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"value-1",children:"value"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-ts",children:"value: Unconstrained<T>;\n"})}),"\n",(0,r.jsxs)(s.p,{children:["Defined in: ",(0,r.jsx)(s.a,{href:"https://github.com/o1-labs/o1js/blob/df1ff77af12d7cbbed4a6167f02815fad4f0dceb/src/lib/provable/packed.ts#L52",children:"lib/provable/packed.ts:52"})]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"_innerprovable",children:"_innerProvable"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-ts",children:"static _innerProvable: \n  | undefined\n| ProvableHashable<any>;\n"})}),"\n",(0,r.jsxs)(s.p,{children:["Defined in: ",(0,r.jsx)(s.a,{href:"https://github.com/o1-labs/o1js/blob/df1ff77af12d7cbbed4a6167f02815fad4f0dceb/src/lib/provable/packed.ts#L136",children:"lib/provable/packed.ts:136"})]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"_provable",children:"_provable"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-ts",children:"static _provable: \n  | undefined\n| ProvableHashable<Packed<any>>;\n"})}),"\n",(0,r.jsxs)(s.p,{children:["Defined in: ",(0,r.jsx)(s.a,{href:"https://github.com/o1-labs/o1js/blob/df1ff77af12d7cbbed4a6167f02815fad4f0dceb/src/lib/provable/packed.ts#L135",children:"lib/provable/packed.ts:135"})]}),"\n",(0,r.jsx)(s.h2,{id:"accessors",children:"Accessors"}),"\n",(0,r.jsx)(s.h3,{id:"constructor",children:"Constructor"}),"\n",(0,r.jsx)(s.h4,{id:"get-signature",children:"Get Signature"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-ts",children:"get Constructor(): typeof Packed\n"})}),"\n",(0,r.jsxs)(s.p,{children:["Defined in: ",(0,r.jsx)(s.a,{href:"https://github.com/o1-labs/o1js/blob/df1ff77af12d7cbbed4a6167f02815fad4f0dceb/src/lib/provable/packed.ts#L138",children:"lib/provable/packed.ts:138"})]}),"\n",(0,r.jsx)(s.h5,{id:"returns-1",children:"Returns"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.em,{children:"typeof"})," ",(0,r.jsx)(s.a,{href:"/o1js/api-reference/classes/Packed",children:(0,r.jsx)(s.code,{children:"Packed"})})]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"innerprovable",children:"innerProvable"}),"\n",(0,r.jsx)(s.h4,{id:"get-signature-1",children:"Get Signature"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-ts",children:"get static innerProvable(): ProvableHashable<any>\n"})}),"\n",(0,r.jsxs)(s.p,{children:["Defined in: ",(0,r.jsx)(s.a,{href:"https://github.com/o1-labs/o1js/blob/df1ff77af12d7cbbed4a6167f02815fad4f0dceb/src/lib/provable/packed.ts#L142",children:"lib/provable/packed.ts:142"})]}),"\n",(0,r.jsx)(s.h5,{id:"returns-2",children:"Returns"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.a,{href:"/o1js/api-reference/type-aliases/ProvableHashable",children:(0,r.jsx)(s.code,{children:"ProvableHashable"})}),"<",(0,r.jsx)(s.code,{children:"any"}),">"]}),"\n",(0,r.jsx)(s.h2,{id:"methods",children:"Methods"}),"\n",(0,r.jsx)(s.h3,{id:"tofields",children:"toFields()"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-ts",children:"toFields(): Field[]\n"})}),"\n",(0,r.jsxs)(s.p,{children:["Defined in: ",(0,r.jsx)(s.a,{href:"https://github.com/o1-labs/o1js/blob/df1ff77af12d7cbbed4a6167f02815fad4f0dceb/src/lib/provable/packed.ts#L130",children:"lib/provable/packed.ts:130"})]}),"\n",(0,r.jsx)(s.h4,{id:"returns-3",children:"Returns"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.a,{href:"/o1js/api-reference/classes/Field",children:(0,r.jsx)(s.code,{children:"Field"})}),"[]"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"unpack",children:"unpack()"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-ts",children:"unpack(): T\n"})}),"\n",(0,r.jsxs)(s.p,{children:["Defined in: ",(0,r.jsx)(s.a,{href:"https://github.com/o1-labs/o1js/blob/df1ff77af12d7cbbed4a6167f02815fad4f0dceb/src/lib/provable/packed.ts#L117",children:"lib/provable/packed.ts:117"})]}),"\n",(0,r.jsx)(s.p,{children:"Unpack a value."}),"\n",(0,r.jsx)(s.h4,{id:"returns-4",children:"Returns"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.code,{children:"T"})}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"create",children:"create()"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-ts",children:"static create<T, V>(type: WithProvable<ProvableHashable<T, V>>): typeof Packed & {\n  provable: ProvableHashable<Packed<T>, V>;\n  pack: Packed<T>;\n}\n"})}),"\n",(0,r.jsxs)(s.p,{children:["Defined in: ",(0,r.jsx)(s.a,{href:"https://github.com/o1-labs/o1js/blob/df1ff77af12d7cbbed4a6167f02815fad4f0dceb/src/lib/provable/packed.ts#L57",children:"lib/provable/packed.ts:57"})]}),"\n",(0,r.jsxs)(s.p,{children:["Create a packed representation of ",(0,r.jsx)(s.code,{children:"type"}),". You can then use ",(0,r.jsx)(s.code,{children:"PackedType.pack(x)"})," to pack a value."]}),"\n",(0,r.jsx)(s.h4,{id:"type-parameters-1",children:"Type Parameters"}),"\n",(0,r.jsxs)(s.p,{children:["\u2022 ",(0,r.jsx)(s.strong,{children:"T"})]}),"\n",(0,r.jsxs)(s.p,{children:["\u2022 ",(0,r.jsx)(s.strong,{children:"V"})]}),"\n",(0,r.jsx)(s.h4,{id:"parameters-1",children:"Parameters"}),"\n",(0,r.jsx)(s.h5,{id:"type",children:"type"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.a,{href:"/o1js/api-reference/type-aliases/WithProvable",children:(0,r.jsx)(s.code,{children:"WithProvable"})}),"<",(0,r.jsx)(s.a,{href:"/o1js/api-reference/type-aliases/ProvableHashable",children:(0,r.jsx)(s.code,{children:"ProvableHashable"})}),"<",(0,r.jsx)(s.code,{children:"T"}),", ",(0,r.jsx)(s.code,{children:"V"}),">>"]}),"\n",(0,r.jsx)(s.h4,{id:"returns-5",children:"Returns"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.em,{children:"typeof"})," ",(0,r.jsx)(s.a,{href:"/o1js/api-reference/classes/Packed",children:(0,r.jsx)(s.code,{children:"Packed"})})," & {\n",(0,r.jsx)(s.code,{children:"provable"}),": ",(0,r.jsx)(s.a,{href:"/o1js/api-reference/type-aliases/ProvableHashable",children:(0,r.jsx)(s.code,{children:"ProvableHashable"})}),"<",(0,r.jsx)(s.a,{href:"/o1js/api-reference/classes/Packed",children:(0,r.jsx)(s.code,{children:"Packed"})}),"<",(0,r.jsx)(s.code,{children:"T"}),">, ",(0,r.jsx)(s.code,{children:"V"}),">;\n",(0,r.jsx)(s.code,{children:"pack"}),": ",(0,r.jsx)(s.a,{href:"/o1js/api-reference/classes/Packed",children:(0,r.jsx)(s.code,{children:"Packed"})}),"<",(0,r.jsx)(s.code,{children:"T"}),">;\n}"]})]})}function h(e={}){const{wrapper:s}={...(0,l.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}}}]);